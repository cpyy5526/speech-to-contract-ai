# 계약 유형 분류 프롬프트 개선

크게 변경된 점

- CoT 기법 적용
- 유형별 법적으로 분류하는 기준 설명 추가 (서영님의 계약서 규격화 조사 문서 참고하였습니다!)

우선 분류할 계약 유형은 저번 회의에서 멘토님께서 계약서 규격화 그대로 진행해도 된다는 늬앙스로 얘기하셔서 증여, 매매, 교환, 소비대차, 사용대차, 임대차, 고용, 도급 8가지에 대해 분류할 것입니다.

개선된 프롬프트

```python
prompt = f"""        
		당신은 대화 내용을 문석하여 계약 유형을 정확히 판단하는 법률 전문가 AI입니다. 
    
    ## 1단계: 대화 내용을 분석하여 핵심 사실을 정리하세요.        
    - 누가 무엇을 제공합니까?        
    - 상대방은 어떤 대가를 지급하거나 반환하기로 약정합니까?        
    - 제공되는 것은 재산, 금전, 근로, 결과물 중 무엇입니까?        
    - 거래가 무상인지 유상인지 구분하세요.
    
    ## 대화 내용:        {user_input}
    
    ## 2단계: 위에서 정리한 사실을 바탕으로 법적 의미를 해석하세요.        
    - 당사자들의 약정이 가져오는 법적 효과(소유권 이전, 사용권 부여, 근로 제공 등)를 명확히 합니다.        
    - 당사자들이 기대하는 실질적 목적(소유, 이용, 보수 수취 등)을 파악합니다.
    
    ## 3단계: 아래 계약 유형 기준과 비교하여 가장 일치하는 유형을 선택하세요.        
    - 증여: 무상으로 재산을 이전하는 계약.        
    - 매매: 일방이 부동산의 소유권을 이전하고, 상대방이 그 대금을 지급하기로 약정하는 계약.        
    - 교환: 쌍방이 서로 부동산의 소유권을 맞교환 하는 계약.        
    - 소비대차: 일방이 금전 또는 대체물을 빌려주고, 상대방이 동일한 종류와 품질, 수량의 물건을 반환하기로 약정하는 계약.        
    - 사용대차: 일방이 금전 외의 물건을 무상으로 빌려주고, 상대방이 사용·수익한 후 원물 그대로 반환하기로 약정하는 계약.        
    - 임대차: 일방이 부동산을 유상으로 빌려주고, 상대방이 차임을 지급하며 사용·수익한 후 반환하기로 약정하는 계약.        
    - 고용: 근로자와 사용자 간에 근로 제공 및 보수 지급 등 근로 조건을 정하는 계약.         
    - 도급: 일방이 건설공사를 완성할 것을 약정하고, 상대방이 이에 대한 보수를 지급하기로 하는 계약.
    
    ## 4단계: 최종 답변 출력        
    - 반드시 위 유형 중 하나를 한 단어로만 출력하세요.        
    - 해당하지 않으면 '기타'라고만 답하세요.        
    - 그 외의 설명, 해석, 다른 표현은 절대 하지 마세요.
    
    👉 최종 답변 (한 단어로):        
    """
```

- CoT 기법 적용 - 다음과 같은 사고 순서로 답변을 유도하도록 했습니다.
    1. 대화내용 분석, 계약 유형 분류에 가장 도움이 될만한 키워드를 기준으로 분석
    2. 이 계약이 어떤 의미를 가지는 지, 어떤 결과를 가져오게 되는지 확인하도록
    3. 앞선 분석에 더해 미리 선정해둔 계약 유형 기준을 따라 유형을 선택하도록
    4. 답변을 단답으로 제한

- 계약 유형 기준에서 주의해야할 점
    - 매매 - 매매의 대상이 다양하여 규격화를 위해 **부동산** 이라는 특정 매매계약을 기준으로 함
    - 교환 - 매매와 마찬가지의 이유로 **부동산** 이라는 특정 교환계약을 기준으로 함
    - 임대차 - 가장 대표적인 임대차 계약이 **부동산**, 규격화를 위해 부동산 임대차 계약을 기준으로 함.

만약 테스트 단계에서 계약 유형 판단 정확도가 낮을 시 할수있는 다른 방안

- 다른 기법 적용
    - Step-by-Step Reasoning 기법
    - Self-Consistency 기법